{"version":3,"sources":["webpack:///./node_modules/events/events.js","webpack:///./node_modules/@mapbox/mapbox-gl-sync-move/index.js","webpack:///./node_modules/mapbox-gl-compare/index.js","webpack:///./src/components/Swipemap/StyleSelector.jsx","webpack:///./src/components/Swipemap/index.jsx","webpack:///./src/components/Swipemap/util.js","webpack:///./src/pages/map-swipe.jsx"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","eventListener","undefined","errorListener","removeListener","slice","arguments","err","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","moveToMapPosition","master","clones","center","getCenter","zoom","getZoom","bearing","getBearing","pitch","getPitch","forEach","clone","jumpTo","maps","argLen","fns","map","sync","filter","o","syncMove","Compare","a","b","container","options","_mapA","_mapB","_horizontal","orientation","_onDown","_onMove","_onMouseUp","_onTouchEnd","_ev","_swiper","document","createElement","className","_controlContainer","appendChild","body","querySelectorAll","appendTarget","Element","_bounds","getContainer","getBoundingClientRect","swiperPosition","height","width","_setPosition","_clearSync","_onResize","currentPosition","mousemove","addEventListener","_setPointerEvents","v","style","pointerEvents","e","touches","x","Math","min","pos","transform","WebkitTransform","clipA","clipB","clip","_getY","_getX","removeEventListener","fire","clientX","left","y","clientY","top","setSlider","fn","data","remove","aContainer","bContainer","window","mapboxgl","Wrapper","styled","div","Basemap","img","isActive","themeGet","size","css","getSrc","styleID","z","token","StyleSelector","styles","tile","onChange","log","useState","basemap","setBasemap","isOpen","setIsOpen","baseStyleRef","useRef","current","fromJS","getStyle","handleBasemapClick","newBasemap","baseStyle","snapshot","baseSources","baseLayers","userSources","_","has","userLayers","layer","includes","setStyle","source","id","addSource","toJS","addLayer","toggleOpen","nextBasemap","src","onClick","onMouseEnter","onMouseLeave","defaultProps","Plugin","onAdd","classList","add","float","cursor","render","onRemove","parentNode","removeChild","Swipemap","bounds","padding","sources","layers","minZoom","maxZoom","directions","mapboxToken","siteMetadata","hasWindow","mapNode","mapNode2","mapRef","mapRef2","useEffect","mapCenter","mapZoom","viewport","geoViewport","max","getCenterAndZoom","accessToken","Map","map2","addControl","NavigationControl","direction","entries","directionData","pois","poi","Marker","setLngLat","setPopup","Popup","offset","setText","addTo","MapboxDirections","setOrigin","origin","setDestination","destination","bottom","MapPage","Layout","title"],"mappings":"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","file":"component---src-pages-map-swipe-jsx-34ad9c4c270f92e214f3.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    var errorListener; // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}","function moveToMapPosition(master, clones) {\n  var center = master.getCenter();\n  var zoom = master.getZoom();\n  var bearing = master.getBearing();\n  var pitch = master.getPitch();\n  clones.forEach(function (clone) {\n    clone.jumpTo({\n      center: center,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch\n    });\n  });\n} // Sync movements of two maps.\n//\n// All interactions that result in movement end up firing\n// a \"move\" event. The trick here, though, is to\n// ensure that movements don't cycle from one map\n// to the other and back again, because such a cycle\n// - could cause an infinite loop\n// - prematurely halts prolonged movements like\n//   double-click zooming, box-zooming, and flying\n\n\nfunction syncMaps() {\n  var maps;\n  var argLen = arguments.length;\n\n  if (argLen === 1) {\n    maps = arguments[0];\n  } else {\n    maps = [];\n\n    for (var i = 0; i < argLen; i++) {\n      maps.push(arguments[i]);\n    }\n  } // Create all the movement functions, because if they're created every time\n  // they wouldn't be the same and couldn't be removed.\n\n\n  var fns = [];\n  maps.forEach(function (map, index) {\n    fns[index] = sync.bind(null, map, maps.filter(function (o, i) {\n      return i !== index;\n    }));\n  });\n\n  function on() {\n    maps.forEach(function (map, index) {\n      map.on('move', fns[index]);\n    });\n  }\n\n  function off() {\n    maps.forEach(function (map, index) {\n      map.off('move', fns[index]);\n    });\n  } // When one map moves, we turn off the movement listeners\n  // on all the maps, move it, then turn the listeners on again\n\n\n  function sync(master, clones) {\n    off();\n    moveToMapPosition(master, clones);\n    on();\n  }\n\n  on();\n  return function () {\n    off();\n    fns = [];\n  };\n}\n\nmodule.exports = syncMaps;","'use strict';\n/* global mapboxgl */\n\nvar syncMove = require('@mapbox/mapbox-gl-sync-move');\n\nvar EventEmitter = require('events').EventEmitter;\n/**\n * @param {Object} a The first Mapbox GL Map\n * @param {Object} b The second Mapbox GL Map\n * @param {string|HTMLElement} container An HTML Element, or an element selector string for the compare container. It should be a wrapper around the two map Elements.\n * @param {Object} options\n * @param {string} [options.orientation=vertical] The orientation of the compare slider. `vertical` creates a vertical slider bar to compare one map on the left (map A) with another map on the right (map B). `horizontal` creates a horizontal slider bar to compare on mop on the top (map A) and another map on the bottom (map B).\n * @param {boolean} [options.mousemove=false] If `true` the compare slider will move with the cursor, otherwise the slider will need to be dragged to move.\n * @example\n * var compare = new mapboxgl.Compare(beforeMap, afterMap, '#wrapper', {\n *   orientation: 'vertical',\n *   mousemove: true\n * });\n * @see [Swipe between maps](https://www.mapbox.com/mapbox-gl-js/example/mapbox-gl-compare/)\n */\n\n\nfunction Compare(a, b, container, options) {\n  this.options = options ? options : {};\n  this._mapA = a;\n  this._mapB = b;\n  this._horizontal = this.options.orientation === 'horizontal';\n  this._onDown = this._onDown.bind(this);\n  this._onMove = this._onMove.bind(this);\n  this._onMouseUp = this._onMouseUp.bind(this);\n  this._onTouchEnd = this._onTouchEnd.bind(this);\n  this._ev = new EventEmitter();\n  this._swiper = document.createElement('div');\n  this._swiper.className = this._horizontal ? 'compare-swiper-horizontal' : 'compare-swiper-vertical';\n  this._controlContainer = document.createElement('div');\n  this._controlContainer.className = this._horizontal ? 'mapboxgl-compare mapboxgl-compare-horizontal' : 'mapboxgl-compare';\n  this._controlContainer.className = this._controlContainer.className;\n\n  this._controlContainer.appendChild(this._swiper);\n\n  if (typeof container === 'string' && document.body.querySelectorAll) {\n    // get container with a selector\n    var appendTarget = document.body.querySelectorAll(container)[0];\n\n    if (!appendTarget) {\n      throw new Error('Cannot find element with specified container selector.');\n    }\n\n    appendTarget.appendChild(this._controlContainer);\n  } else if (container instanceof Element && container.appendChild) {\n    // get container directly\n    container.appendChild(this._controlContainer);\n  } else {\n    throw new Error('Invalid container specified. Must be CSS selector or HTML element.');\n  }\n\n  this._bounds = b.getContainer().getBoundingClientRect();\n  var swiperPosition = (this._horizontal ? this._bounds.height : this._bounds.width) / 2;\n\n  this._setPosition(swiperPosition);\n\n  this._clearSync = syncMove(a, b);\n\n  this._onResize = function () {\n    this._bounds = b.getContainer().getBoundingClientRect();\n    if (this.currentPosition) this._setPosition(this.currentPosition);\n  }.bind(this);\n\n  b.on('resize', this._onResize);\n\n  if (this.options && this.options.mousemove) {\n    a.getContainer().addEventListener('mousemove', this._onMove);\n    b.getContainer().addEventListener('mousemove', this._onMove);\n  }\n\n  this._swiper.addEventListener('mousedown', this._onDown);\n\n  this._swiper.addEventListener('touchstart', this._onDown);\n}\n\nCompare.prototype = {\n  _setPointerEvents: function _setPointerEvents(v) {\n    this._controlContainer.style.pointerEvents = v;\n    this._swiper.style.pointerEvents = v;\n  },\n  _onDown: function _onDown(e) {\n    if (e.touches) {\n      document.addEventListener('touchmove', this._onMove);\n      document.addEventListener('touchend', this._onTouchEnd);\n    } else {\n      document.addEventListener('mousemove', this._onMove);\n      document.addEventListener('mouseup', this._onMouseUp);\n    }\n  },\n  _setPosition: function _setPosition(x) {\n    x = Math.min(x, this._horizontal ? this._bounds.height : this._bounds.width);\n    var pos = this._horizontal ? 'translate(0, ' + x + 'px)' : 'translate(' + x + 'px, 0)';\n    this._controlContainer.style.transform = pos;\n    this._controlContainer.style.WebkitTransform = pos;\n    var clipA = this._horizontal ? 'rect(0, 999em, ' + x + 'px, 0)' : 'rect(0, ' + x + 'px, ' + this._bounds.height + 'px, 0)';\n    var clipB = this._horizontal ? 'rect(' + x + 'px, 999em, ' + this._bounds.height + 'px,0)' : 'rect(0, 999em, ' + this._bounds.height + 'px,' + x + 'px)';\n    this._mapA.getContainer().style.clip = clipA;\n    this._mapB.getContainer().style.clip = clipB;\n    this.currentPosition = x;\n  },\n  _onMove: function _onMove(e) {\n    if (this.options && this.options.mousemove) {\n      this._setPointerEvents(e.touches ? 'auto' : 'none');\n    }\n\n    this._horizontal ? this._setPosition(this._getY(e)) : this._setPosition(this._getX(e));\n  },\n  _onMouseUp: function _onMouseUp() {\n    document.removeEventListener('mousemove', this._onMove);\n    document.removeEventListener('mouseup', this._onMouseUp);\n    this.fire('slideend', {\n      currentPosition: this.currentPosition\n    });\n  },\n  _onTouchEnd: function _onTouchEnd() {\n    document.removeEventListener('touchmove', this._onMove);\n    document.removeEventListener('touchend', this._onTouchEnd);\n  },\n  _getX: function _getX(e) {\n    e = e.touches ? e.touches[0] : e;\n    var x = e.clientX - this._bounds.left;\n    if (x < 0) x = 0;\n    if (x > this._bounds.width) x = this._bounds.width;\n    return x;\n  },\n  _getY: function _getY(e) {\n    e = e.touches ? e.touches[0] : e;\n    var y = e.clientY - this._bounds.top;\n    if (y < 0) y = 0;\n    if (y > this._bounds.height) y = this._bounds.height;\n    return y;\n  },\n\n  /**\n   * Set the position of the slider.\n   *\n   * @param {number} x Slider position in pixels from left/top.\n   */\n  setSlider: function setSlider(x) {\n    this._setPosition(x);\n  },\n\n  /**\n   * Adds a listener for events of a specified type.\n   *\n   * @param {string} type The event type to listen for; one of `slideend`.\n   * @param {Function} listener The function to be called when the event is fired.\n   * @returns {Compare} `this`\n   */\n  on: function on(type, fn) {\n    this._ev.on(type, fn);\n\n    return this;\n  },\n\n  /**\n   * Fire an event of a specified type.\n   *\n   * @param {string} type The event type to fire; one of `slideend`.\n   * @param {Object} data Data passed to the event listener.\n   * @returns {Compare} `this`\n   */\n  fire: function fire(type, data) {\n    this._ev.emit(type, data);\n\n    return this;\n  },\n\n  /**\n   * Removes an event listener previously added with `Compare#on`.\n   *\n   * @param {string} type The event type previously used to install the listener.\n   * @param {Function} listener The function previously installed as a listener.\n   * @returns {Compare} `this`\n   */\n  off: function off(type, fn) {\n    this._ev.removeListener(type, fn);\n\n    return this;\n  },\n  remove: function remove() {\n    this._clearSync();\n\n    this._mapB.off('resize', this._onResize);\n\n    var aContainer = this._mapA.getContainer();\n\n    if (!!aContainer) {\n      aContainer.style.clip = null;\n      aContainer.removeEventListener('mousemove', this._onMove);\n    }\n\n    var bContainer = this._mapB.getContainer();\n\n    if (!!bContainer) {\n      bContainer.style.clip = null;\n      bContainer.removeEventListener('mousemove', this._onMove);\n    }\n\n    this._swiper.removeEventListener('mousedown', this._onDown);\n\n    this._swiper.removeEventListener('touchstart', this._onDown);\n\n    this._controlContainer.remove();\n  }\n};\n\nif (window.mapboxgl) {\n  mapboxgl.Compare = Compare;\n} else if (typeof module !== 'undefined') {\n  module.exports = Compare;\n}","import React, { useState, useRef } from 'react'\nimport { render } from 'react-dom'\nimport PropTypes from 'prop-types'\nimport { fromJS } from 'immutable'\n\nimport styled, { css, themeGet } from 'style'\n\nconst Wrapper = styled.div`\n  /* cursor: pointer;\n  position: absolute;\n  left: 10px;\n  bottom: 24px;\n  z-index: 999; */\n`\n\nconst Basemap = styled.img`\n  box-sizing: border-box;\n  border: 2px solid\n    ${({ isActive }) => (isActive ? themeGet('colors.highlight.500') : '#fff')};\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);\n  margin: 0;\n\n  ${({ size }) => css`\n    width: ${size};\n    height: ${size};\n    border-radius: ${size};\n  `}\n\n  &:not(:first-child) {\n    margin-left: 0.25rem;\n  }\n`\n\nconst getSrc = ({ styleID, z, x, y, token }) =>\n  `https://api.mapbox.com/styles/v1/mapbox/${styleID}/tiles/256/${z}/${x}/${y}?access_token=${token}`\n\nconst StyleSelector = ({ map, token, styles, tile, size, onChange }) => {\n  console.log('render StyleSelector')\n\n  map.on('style.load', () => {\n    console.log('style load')\n  })\n\n  const [basemap, setBasemap] = useState(styles[0])\n  const [isOpen, setIsOpen] = useState(false)\n  const baseStyleRef = useRef(null)\n\n  map.once('style.load', () => {\n    baseStyleRef.current = fromJS(map.getStyle())\n  })\n\n  const handleBasemapClick = newBasemap => {\n    console.log('handle click', newBasemap)\n    setIsOpen(false)\n\n    if (newBasemap === basemap) return\n\n    setBasemap(newBasemap)\n\n    const { current: baseStyle } = baseStyleRef\n\n    const snapshot = fromJS(map.getStyle())\n    const baseSources = baseStyle.get('sources')\n    const baseLayers = baseStyle.get('layers')\n\n    // diff the sources and layers to find those added by the user\n    const userSources = snapshot\n      .get('sources')\n      .filter((_, key) => !baseSources.has(key))\n    const userLayers = snapshot\n      .get('layers')\n      .filter(layer => !baseLayers.includes(layer))\n\n    map.setStyle(`mapbox://styles/mapbox/${newBasemap}`)\n\n    map.once('style.load', () => {\n      console.log('on style update')\n      // after new style has loaded\n      // save it so that we can diff with it on next change\n      // and re-add the sources / layers back on it\n\n      // save base for new style\n      baseStyleRef.current = fromJS(map.getStyle())\n\n      userSources.forEach((source, id) => {\n        map.addSource(id, source.toJS())\n      })\n\n      userLayers.forEach(layer => {\n        map.addLayer(layer.toJS())\n      })\n\n      onChange(newBasemap)\n    })\n  }\n\n  const toggleOpen = () => {\n    setIsOpen(true)\n  }\n\n  const toggleClosed = () => {\n    setIsOpen(false)\n  }\n\n  // if there are only 2 options, render as a toggle\n  if (styles.length === 2) {\n    const nextBasemap = basemap === styles[0] ? styles[1] : styles[0]\n\n    return (\n      <Wrapper>\n        <Basemap\n          size={size}\n          src={getSrc({ styleID: nextBasemap, token, ...tile })}\n          onClick={() => handleBasemapClick(nextBasemap)}\n        />\n      </Wrapper>\n    )\n  }\n\n  const nextBasemap = styles.filter(style => style !== basemap)[0]\n\n  return (\n    <Wrapper onMouseEnter={toggleOpen} onMouseLeave={toggleClosed}>\n      {isOpen ? (\n        <>\n          <Basemap\n            size={size}\n            src={getSrc({ styleID: nextBasemap, token, ...tile })}\n            onClick={() => handleBasemapClick(nextBasemap)}\n          />\n          {styles\n            .filter(style => style !== nextBasemap)\n            .map(styleID => (\n              <Basemap\n                key={styleID}\n                isActive={styleID === basemap}\n                size={size}\n                src={getSrc({ styleID, token, ...tile })}\n                onClick={() => handleBasemapClick(styleID)}\n              />\n            ))}\n        </>\n      ) : (\n        <Basemap\n          size={size}\n          src={getSrc({ styleID: nextBasemap, token, ...tile })}\n          onClick={toggleOpen}\n        />\n      )}\n    </Wrapper>\n  )\n}\n\nStyleSelector.propTypes = {\n  map: PropTypes.object,\n  token: PropTypes.string.isRequired,\n  // list of mapbox style IDs\n  styles: PropTypes.arrayOf(PropTypes.string).isRequired,\n  tile: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    z: PropTypes.number.isRequired,\n  }),\n  size: PropTypes.string,\n  onChange: PropTypes.func,\n}\n\nStyleSelector.defaultProps = {\n  map: null,\n  tile: {\n    x: 0,\n    y: 0,\n    z: 0,\n  },\n  size: '64px',\n  onChange: () => {},\n}\n\n// Wrap in a Mapbox GL plugin so that we can construct the above React element on map init\n// TODO: pass props through\nclass Plugin {\n  constructor({ styles, token, position }) {\n    this.styles = styles\n    this.token = token\n    this.position = position\n  }\n\n  onAdd(map) {\n    console.log('onAdd')\n    this.map = map\n\n    const { styles, token } = this\n\n    this.container = document.createElement('div')\n    this.container.classList.add('mapboxgl-ctrl')\n    this.container.classList.add('mapboxgl-ctrl-style-selector')\n    this.container.style.float = 'none !important'\n    this.container.style.cursor = 'pointer'\n\n    render(\n      <StyleSelector map={map} styles={styles} token={token} />,\n      this.container\n    )\n\n    return this.container\n  }\n\n  init() {\n    console.log('init')\n    const { map, styles, token, container } = this\n    render(<StyleSelector map={map} styles={styles} token={token} />, container)\n  }\n\n  onRemove() {\n    this.map = null\n    this.container.parentNode.removeChild(this.container)\n  }\n}\n\nexport default Plugin\n","/* eslint-disable max-len, no-underscore-dangle */\nimport React, { useEffect, useRef, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport mapboxgl from 'mapbox-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport styled from 'style'\nimport { hasWindow } from 'util/dom'\nimport { getCenterAndZoom } from './util'\nimport StyleSelector from './StyleSelector'\nimport MapboxDirections from '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions'\nimport Compare from 'mapbox-gl-compare'\nimport 'mapbox-gl-compare/dist/mapbox-gl-compare.css'\n\nimport { siteMetadata } from '../../../gatsby-config'\n\nconst Wrapper = styled.div`\n  width: ${({ width }) => width};\n  height: ${({ height }) => height};\n  position: relative;\n  flex: 1 0 auto;\n`\n\nconst Swipemap = ({\n  width,\n  height,\n  zoom,\n  center,\n  bounds,\n  padding,\n  styles,\n  sources,\n  layers,\n  minZoom,\n  maxZoom,\n  directions,\n}) => {\n  const { mapboxToken } = siteMetadata\n\n  if (!mapboxToken) {\n    console.error(\n      'ERROR: Mapbox token is required in gatsby-config.js siteMetadata'\n    )\n  }\n\n  if (!hasWindow) {\n    return null\n  }\n\n  const mapNode = useRef(null)\n  const mapNode2 = useRef(null)\n\n  const mapRef = useRef(null)\n  const mapRef2 = useRef(null)\n\n  useEffect(() => {\n    let mapCenter = center\n    let mapZoom = zoom\n\n    if (bounds && bounds.length === 4) {\n      const { center: boundsCenter, zoom: boundsZoom } = getCenterAndZoom(\n        mapNode.current,\n        mapNode2.current,\n        bounds,\n        padding\n      )\n      mapCenter = boundsCenter\n      mapZoom = boundsZoom\n    }\n\n    mapboxgl.accessToken = mapboxToken\n\n    const map = new mapboxgl.Map({\n      container: 'eins',\n      style: `mapbox://styles/mapbox/${styles[0]}`,\n      center: mapCenter,\n      zoom: mapZoom,\n      minZoom,\n      maxZoom,\n    })\n    mapRef.current = map\n    window.map = map\n\n    const map2 = new mapboxgl.Map({\n      container: 'zwei',\n      style: `mapbox://styles/mapbox/${styles[3]}`,\n      center: mapCenter,\n      zoom: mapZoom,\n      minZoom,\n      maxZoom,\n    })\n    mapRef2.current = map2\n    window.map2 = map2 // for easier debugging and querying via console\n\n    var compare = new Compare(map, map2, '#swipewrapper', {})\n\n    map2.addControl(new mapboxgl.NavigationControl(), 'top-right')\n\n    if (styles.length > 1) {\n      map.addControl(\n        new StyleSelector({\n          styles,\n          token: mapboxToken,\n        }),\n        'bottom-left'\n      )\n    }\n\n    map.on('load', () => {\n      console.log('map onload')\n      // add sources\n      Object.entries(sources).forEach(([id, source]) => {\n        map.addSource(id, source)\n      })\n\n      // add layers\n      layers.forEach(layer => {\n        map.addLayer(layer)\n      })\n\n      var direction\n      directions.forEach(directionData => {\n        directionData.pois.forEach(poi => {\n          new mapboxgl.Marker()\n            .setLngLat([poi[0], poi[1]])\n            .setPopup(new mapboxgl.Popup({ offset: 25 }).setText(poi[2]))\n            .addTo(map)\n        })\n        direction = new MapboxDirections(directionData)\n        direction.setOrigin(directionData.origin)\n        direction.setDestination(directionData.destination)\n        map.addControl(direction, 'top-right')\n      })\n    })\n\n    return () => {\n      map.remove()\n    }\n  }, [])\n\n  return (\n    <Wrapper id=\"swipewrapper\" width={width} height={height}>\n      <div\n        id=\"eins\"\n        style={{ top: 0, position: 'absolute', width: '100%', bottom: 0 }}\n      />\n      <div\n        id=\"zwei\"\n        style={{ top: 0, position: 'absolute', width: '100%', bottom: 0 }}\n      />\n      {/*  <StyleSelector map={mapRef.current} styles={styles} token={mapboxToken} /> */}\n    </Wrapper>\n  )\n}\n\nSwipemap.propTypes = {\n  width: PropTypes.string,\n  height: PropTypes.string,\n  center: PropTypes.arrayOf(PropTypes.number),\n  zoom: PropTypes.number,\n  bounds: PropTypes.arrayOf(PropTypes.number),\n  minZoom: PropTypes.number,\n  maxZoom: PropTypes.number,\n  styles: PropTypes.arrayOf(PropTypes.string),\n  padding: PropTypes.number,\n  sources: PropTypes.object,\n  layers: PropTypes.arrayOf(PropTypes.object),\n  directions: PropTypes.arrayOf(PropTypes.object),\n}\n\nSwipemap.defaultProps = {\n  width: 'auto',\n  height: '100%',\n  center: [7.221275, 50.326111],\n  zoom: 9.5,\n  bounds: null,\n  minZoom: 0,\n  maxZoom: 24,\n  styles: ['streets-v11', 'light-v9', 'dark-v9', 'satellite-v9'],\n  padding: 0.1,\n  sources: {},\n  layers: [],\n  directions: [],\n}\n\nexport default Swipemap\n","import geoViewport from '@mapbox/geo-viewport'\n\n/**\n * Calculate the appropriate center and zoom to fit the bounds, given padding.\n * @param {Element} - map DOM node used to calculate height and width in screen pixels of map\n * @param {Array(number)} bounds - [xmin, ymin, xmax, ymax]\n * @param {float} padding - proportion of calculated zoom level to zoom out by, to pad the bounds\n */\nexport const getCenterAndZoom = (mapNode, bounds, padding = 0) => {\n  const { width, height } = mapNode\n  const viewport = geoViewport.viewport(\n    bounds,\n    [width, height],\n    undefined,\n    undefined,\n    undefined,\n    true\n  )\n\n  // Zoom out slightly to pad around bounds\n\n  const zoom = Math.max(viewport.zoom - 1, 0) * (1 - padding)\n\n  return { center: viewport.center, zoom }\n}\n","import React from 'react'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport Layout from 'components/Layout'\nimport Swipemap from 'components/Swipemap'\n\nconst MapPage = () => {\n  return (\n    <Layout title=\"Full Screen Map\">\n      <Swipemap />\n    </Layout>\n  )\n}\n\nexport default MapPage\n"],"sourceRoot":""}